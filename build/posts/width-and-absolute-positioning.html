<!DOCTYPE html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>Width and absolute positioning | Keith J Grant</title><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#666"><link rel="alternate" type="application/rss+xml" title="Keith J Grant" href="http://keithjgrant.com/feed.xml"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif|Palanquin:100,700" type="text/css"><link rel="stylesheet" href="/css/main.min.css"></head><body><nav class="topnav"><ul><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/posts">Posts</a></li><li><a href="/talks">Talks</a></li></ul></nav><div class="masthead"><h1 class="page-title">Width and absolute positioning</h1></div><main class="l-main"><article class="post"><div class="post-content"><p>I recently came across this question on Twitter:</p>
<p><blockquote class="twitter-tweet" lang="en"><p lang="en" dir="ltr">What&#39;s the diff on a position:absolute el btw {top:0;right:0;bottom:0;left:0;} and {top:0;left:0;height:100%;width:100%;} ?</p>&mdash; Karl Swedberg (@kswedberg) <a href="https://twitter.com/kswedberg/status/692720642580295681">January 28, 2016</a></blockquote></p>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>“That’s easy”, I thought. “They often seem the same in practice, but width and height are based on the parent (or nearest block-level ancestor). Top, right, bottom, and left are based on the nearest <em>positioned</em> ancestor. Those aren’t necessarily the same element.”</p>
<p>Shows what I know: my <a href="http://codepen.io/keithjgrant/pen/obddgy">quick mockup</a> to illustrate the difference proved me wrong.</p>
<p>On first pass, <code>top: 0; right: 0; bottom: 0; left: 0;</code> and <code>top: 0; left: 0; width: 100%; height: 100%;</code> are equivalent. Of course, we always <em>treat</em> them as equivalent, because in most real-world cases, the nearest positioned ancestor is the nearest block-level element (usually the parent). But my codepen showed me an absolutely positioned element whose width and height are derived from the positioned ancestor, not the immediate container.</p>
<p>In retrospect, this makes a certain kind of sense, because the absolutely positioned element is removed from the normal flow. It&#39;s then “contained” by the positioned ancestor.</p>
<p>Intrigued, I dug up the relevant part of the <a href="https://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width">spec</a>. Really, click that. And tell me if you can make sense of it in one reading. Because it&#39;s really got a lot of edge cases in play there. What happens if margins are set? What if one margin is set to <code>auto</code>? “Shrink-to-fit” rules and hypothetical “static-position” blocks. Yikes. And that&#39;s the CSS 2.1 spec, so it doesn’t even consider <code>box-sizing: border-box</code>.</p>
<p>So, the two scenarios behave the same without an margin or padding. Looking at the spec made it clear that those would weigh in. And sure enough, some folks on twitter pointed out that padding would change the width and height calculations if you don’t have border-box sizing in place. So let’s look at the effect margin has on it. The horizontal and vertical behave the same, so I’ll just focus on the interplay between left/right margin and width.</p>
</div><date class="post-date">28 January 2016</date></article><footer><a href="/posts">See more posts</a></footer></main><script src="/js/vendor/prettify.js"></script><script src="/js/run-prettify.js"></script><script>if (document.location.hostname !== 'localhost') {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37381912-2', 'auto');
  ga('send', 'pageview');
}</script></body>